# 全球新闻管理系统 - 前台展示模块详细文档

## 目录

1. [模块概述](#1-模块概述)
2. [页面结构](#2-页面结构)
   - [2.1 首页布局](#21-首页布局)
   - [2.2 新闻列表页](#22-新闻列表页)
   - [2.3 新闻详情页](#23-新闻详情页)
   - [2.4 分类页面](#24-分类页面)
   - [2.5 搜索结果页](#25-搜索结果页)
3. [组件实现](#3-组件实现)
   - [3.1 头部导航组件](#31-头部导航组件)
   - [3.2 新闻卡片组件](#32-新闻卡片组件)
   - [3.3 新闻列表组件](#33-新闻列表组件)
   - [3.4 新闻详情组件](#34-新闻详情组件)
   - [3.5 分页组件](#35-分页组件)
   - [3.6 搜索组件](#36-搜索组件)
   - [3.7 侧边栏组件](#37-侧边栏组件)
   - [3.8 底部组件](#38-底部组件)
4. [数据流程](#4-数据流程)
   - [4.1 数据获取流程](#41-数据获取流程)
   - [4.2 数据渲染流程](#42-数据渲染流程)
   - [4.3 数据缓存策略](#43-数据缓存策略)
5. [响应式设计](#5-响应式设计)
   - [5.1 布局适配](#51-布局适配)
   - [5.2 媒体查询](#52-媒体查询)
   - [5.3 图片优化](#53-图片优化)
6. [性能优化](#6-性能优化)
   - [6.1 懒加载实现](#61-懒加载实现)
   - [6.2 代码分割](#62-代码分割)
   - [6.3 资源优化](#63-资源优化)
7. [SEO 优化](#7-seo-优化)
   - [7.1 元标签管理](#71-元标签管理)
   - [7.2 结构化数据](#72-结构化数据)
   - [7.3 URL 优化](#73-url-优化)
8. [国际化支持](#8-国际化支持)
   - [8.1 多语言实现](#81-多语言实现)
   - [8.2 语言切换](#82-语言切换)
9. [前台与后台交互](#9-前台与后台交互)
   - [9.1 API 接口调用](#91-api-接口调用)
   - [9.2 数据同步机制](#92-数据同步机制)
10. [优化建议](#10-优化建议)

## 1. 模块概述

前台展示模块是全球新闻管理系统面向最终用户的界面，负责将后台管理的新闻内容以友好的方式呈现给用户。该模块采用响应式设计，支持多语言，并针对搜索引擎进行了优化，确保新闻内容能够被广泛传播和访问。

### 1.1 核心功能

- 新闻内容展示（首页、列表页、详情页）
- 分类浏览
- 全文搜索
- 热门新闻推荐
- 最新新闻展示
- 多语言支持
- 响应式布局（适配桌面端、平板和移动端）

### 1.2 技术栈

- **前端框架**：React.js
- **路由管理**：React Router
- **状态管理**：Redux + Redux Toolkit
- **UI 组件库**：Ant Design
- **样式解决方案**：Less + CSS Modules
- **HTTP 请求**：Axios
- **国际化**：react-i18next
- **SEO**：React Helmet

## 2. 页面结构

### 2.1 首页布局

首页是用户访问系统的第一入口，布局清晰，突出重要内容。

```jsx
// 首页组件结构
function HomePage() {
  return (
    <div className="home-page">
      <Header />
      <Banner />
      
      <div className="main-content">
        <div className="left-content">
          <FeaturedNews />
          <LatestNews />
        </div>
        
        <div className="right-sidebar">
          <HotNews />
          <CategoryList />
          <TagCloud />
        </div>
      </div>
      
      <NewsCategories />
      <Footer />
    </div>
  );
}
```

#### 2.1.1 首页布局图

```
+----------------------------------+
|             Header               |
+----------------------------------+
|             Banner               |
+----------------------------------+
|                  |               |
|                  |               |
|  Featured News   |   Hot News    |
|                  |               |
|                  |  Categories   |
|                  |               |
|  Latest News     |   Tag Cloud   |
|                  |               |
|                  |               |
+----------------------------------+
|         News Categories          |
+----------------------------------+
|             Footer               |
+----------------------------------+
```

### 2.2 新闻列表页

新闻列表页展示特定分类或搜索结果的新闻条目，支持分页和筛选。

```jsx
// 新闻列表页组件
function NewsListPage() {
  const [params, setParams] = useState({
    page: 1,
    pageSize: 10,
    category: '',
    keyword: ''
  });
  
  // 获取新闻列表数据
  const { data, isLoading } = useNewsList(params);
  
  return (
    <div className="news-list-page">
      <Header />
      
      <div className="page-title">
        <h1>{params.category ? `${getCategoryName(params.category)}` : '全部新闻'}</h1>
      </div>
      
      <div className="filter-bar">
        <NewsFilter onFilterChange={handleFilterChange} />
        <SortOptions onSortChange={handleSortChange} />
      </div>
      
      <div className="main-content">
        <div className="news-list-container">
          {isLoading ? (
            <Spinner />
          ) : (
            <>
              <NewsList news={data?.items || []} />
              <Pagination 
                current={params.page}
                total={data?.total || 0}
                onChange={handlePageChange}
              />
            </>
          )}
        </div>
        
        <div className="sidebar">
          <RelatedNews />
          <PopularTags />
        </div>
      </div>
      
      <Footer />
    </div>
  );
}
```

### 2.3 新闻详情页

新闻详情页展示单篇新闻的完整内容，包括标题、作者、发布时间、正文、图片等。

```jsx
// 新闻详情页组件
function NewsDetailPage() {
  const { id } = useParams();
  const { data: news, isLoading, error } = useNewsDetail(id);
  
  // SEO 优化
  const seoData = {
    title: news?.title || '新闻详情',
    description: news?.summary || '',
    keywords: news?.tags?.join(',') || '',
    ogImage: news?.coverImage || ''
  };
  
  if (isLoading) return <Spinner />;
  if (error) return <ErrorMessage message={error.message} />;
  
  return (
    <div className="news-detail-page">
      <SEOHead {...seoData} />
      <Header />
      
      <div className="main-content">
        <div className="news-content">
          <NewsDetail news={news} />
          <SocialShare url={window.location.href} title={news.title} />
          <RelatedNewsList categoryId={news.categoryId} excludeId={news.id} />
        </div>
        
        <div className="sidebar">
          <AuthorInfo author={news.author} />
          <LatestNews limit={5} />
          <PopularNews />
        </div>
      </div>
      
      <Footer />
    </div>
  );
}
```

### 2.4 分类页面

分类页面展示系统中所有的新闻分类，用户可以通过分类快速找到感兴趣的内容。

```jsx
// 分类页面组件
function CategoriesPage() {
  const { data: categories, isLoading } = useCategories();
  
  return (
    <div className="categories-page">
      <Header />
      
      <div className="page-title">
        <h1>新闻分类</h1>
      </div>
      
      {isLoading ? (
        <Spinner />
      ) : (
        <div className="categories-grid">
          {categories.map(category => (
            <CategoryCard 
              key={category.id}
              category={category}
              newsCount={category.newsCount}
            />
          ))}
        </div>
      )}
      
      <Footer />
    </div>
  );
}
```

### 2.5 搜索结果页

搜索结果页展示用户搜索关键词匹配的新闻列表，支持高级筛选和排序。

```jsx
// 搜索结果页组件
function SearchResultsPage() {
  const location = useLocation();
  const queryParams = new URLSearchParams(location.search);
  const keyword = queryParams.get('q') || '';
  
  const [params, setParams] = useState({
    page: 1,
    pageSize: 10,
    keyword,
    sortBy: 'relevance'
  });
  
  const { data, isLoading } = useSearchResults(params);
  
  return (
    <div className="search-results-page">
      <Header />
      
      <div className="search-header">
        <h1>搜索结果: {keyword}</h1>
        <p>找到 {data?.total || 0} 条结果</p>
      </div>
      
      <div className="filter-options">
        <SearchFilter 
          onFilterChange={handleFilterChange}
          initialValues={params}
        />
      </div>
      
      <div className="main-content">
        {isLoading ? (
          <Spinner />
        ) : (
          <>
            <SearchResultsList results={data?.items || []} keyword={keyword} />
            <Pagination 
              current={params.page}
              total={data?.total || 0}
              onChange={handlePageChange}
            />
          </>
        )}
      </div>
      
      <div className="search-suggestions">
        <RelatedSearches keyword={keyword} />
      </div>
      
      <Footer />
    </div>
  );
}
```

## 3. 组件实现

### 3.1 头部导航组件

头部导航组件包含网站 Logo、主导航菜单、搜索框和语言切换器。

```jsx
// 头部导航组件
function Header() {
  const { t, i18n } = useTranslation();
  const [searchVisible, setSearchVisible] = useState(false);
  const [menuVisible, setMenuVisible] = useState(false);
  const { data: categories } = useCategories();
  
  // 切换语言
  const changeLanguage = (lng) => {
    i18n.changeLanguage(lng);
    localStorage.setItem('language', lng);
  };
  
  // 处理搜索提交
  const handleSearch = (value) => {
    if (!value.trim()) return;
    window.location.href = `/search?q=${encodeURIComponent(value.trim())}`;
  };
  
  return (
    <header className="site-header">
      <div className="header-container">
        <div className="logo">
          <Link to="/">
            <img src="/logo.png" alt="全球新闻" />
          </Link>
        </div>
        
        <nav className={`main-nav ${menuVisible ? 'active' : ''}`}>
          <ul>
            <li><Link to="/">{t('home')}</Link></li>
            {categories?.map(category => (
              <li key={category.id}>
                <Link to={`/category/${category.slug}`}>
                  {t(`categories.${category.name}`)}
                </Link>
              </li>
            ))}
            <li><Link to="/about">{t('about')}</Link></li>
          </ul>
        </nav>
        
        <div className="header-actions">
          <div className={`search-container ${searchVisible ? 'active' : ''}`}>
            <SearchInput 
              onSearch={handleSearch}
              placeholder={t('search_placeholder')}
            />
            <button 
              className="search-toggle"
              onClick={() => setSearchVisible(!searchVisible)}
            >
              {searchVisible ? <CloseIcon /> : <SearchIcon />}
            </button>
          </div>
          
          <div className="language-selector">
            <Select 
              defaultValue={i18n.language} 
              onChange={changeLanguage}
              options={[
                { value: 'zh', label: '中文' },
                { value: 'en', label: 'English' },
                { value: 'es', label: 'Español' }
              ]}
            />
          </div>
          
          <button 
            className="mobile-menu-toggle"
            onClick={() => setMenuVisible(!menuVisible)}
          >
            {menuVisible ? <CloseIcon /> : <MenuIcon />}
          </button>
        </div>
      </div>
    </header>
  );
}
```

### 3.2 新闻卡片组件

新闻卡片组件用于在列表中展示单条新闻的摘要信息。

```jsx
// 新闻卡片组件
function NewsCard({ news }) {
  const { t } = useTranslation();
  
  return (
    <div className="news-card">
      <div className="news-image">
        <Link to={`/news/${news.id}`}>
          {news.coverImage ? (
            <img 
              src={news.coverImage} 
              alt={news.title}
              loading="lazy"
            />
          ) : (
            <div className="placeholder-image">
              <NewsIcon />
            </div>
          )}
        </Link>
        <div className="category-badge">
          <Link to={`/category/${news.category.slug}`}>
            {t(`categories.${news.category.name}`)}
          </Link>
        </div>
      </div>
      
      <div className="news-content">
        <h3 className="news-title">
          <Link to={`/news/${news.id}`}>{news.title}</Link>
        </h3>
        
        <div className="news-meta">
          <span className="publish-date">
            <CalendarIcon />
            {formatDate(news.publishDate)}
          </span>
          
          {news.author && (
            <span className="author">
              <AuthorIcon />
              {news.author.name}
            </span>
          )}
        </div>
        
        <p className="news-summary">{news.summary}</p>
        
        <Link to={`/news/${news.id}`} className="read-more">
          {t('read_more')} <ArrowRightIcon />
        </Link>
      </div>
    </div>
  );
}
```

### 3.3 新闻列表组件

新闻列表组件用于展示多条新闻卡片，支持不同的布局方式。

```jsx
// 新闻列表组件
function NewsList({ news, layout = 'grid' }) {
  if (!news || news.length === 0) {
    return <EmptyState message="暂无新闻" />;
  }
  
  return (
    <div className={`news-list ${layout}-layout`}>
      {news.map(item => (
        <div key={item.id} className="news-item">
          <NewsCard news={item} />
        </div>
      ))}
    </div>
  );
}

// 特色新闻组件
function FeaturedNews() {
  const { data: featuredNews, isLoading } = useFeaturedNews();
  
  if (isLoading) return <Skeleton count={3} />;
  
  return (
    <div className="featured-news">
      <h2 className="section-title">特色新闻</h2>
      
      <div className="featured-grid">
        {featuredNews?.map((news, index) => (
          <div 
            key={news.id} 
            className={`featured-item ${index === 0 ? 'main-feature' : ''}`}
          >
            <div className="featured-image">
              <Link to={`/news/${news.id}`}>
                <img src={news.coverImage} alt={news.title} />
              </Link>
            </div>
            
            <div className="featured-content">
              <div className="category">
                <Link to={`/category/${news.category.slug}`}>
                  {news.category.name}
                </Link>
              </div>
              
              <h3 className="title">
                <Link to={`/news/${news.id}`}>{news.title}</Link>
              </h3>
              
              {index === 0 && (
                <p className="summary">{news.summary}</p>
              )}
              
              <div className="meta">
                <span className="date">{formatDate(news.publishDate)}</span>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  );
}
```

### 3.4 新闻详情组件

新闻详情组件用于展示单篇新闻的完整内容。

```jsx
// 新闻详情组件
function NewsDetail({ news }) {
  const { t } = useTranslation();
  
  // 处理内容中的图片，添加懒加载和灯箱效果
  useEffect(() => {
    const contentImages = document.querySelectorAll('.news-content img');
    contentImages.forEach(img => {
      img.setAttribute('loading', 'lazy');
      img.addEventListener('click', () => {
        openLightbox(img.src);
      });
    });
    
    return () => {
      contentImages.forEach(img => {
        img.removeEventListener('click', () => {});
      });
    };
  }, [news]);
  
  return (
    <article className="news-detail">
      <header className="news-header">
        <div className="categories">
          <Link to={`/category/${news.category.slug}`}>
            {t(`categories.${news.category.name}`)}
          </Link>
        </div>
        
        <h1 className="title">{news.title}</h1>
        
        <div className="meta">
          {news.author && (
            <div className="author">
              <img 
                src={news.author.avatar || '/default-avatar.png'} 
                alt={news.author.name}
              />
              <span>{news.author.name}</span>
            </div>
          )}
          
          <div className="publish-info">
            <span className="date">
              <CalendarIcon />
              {formatDate(news.publishDate)}
            </span>
            
            <span className="reading-time">
              <ClockIcon />
              {calculateReadingTime(news.content)} {t('minutes_read')}
            </span>
          </div>
        </div>
      </header>
      
      {news.coverImage && (
        <div className="cover-image">
          <img src={news.coverImage} alt={news.title} />
          {news.coverImageCaption && (
            <figcaption>{news.coverImageCaption}</figcaption>
          )}
        </div>
      )}
      
      <div className="summary">{news.summary}</div>
      
      <div 
        className="content" 
        dangerouslySetInnerHTML={{ __html: sanitizeHtml(news.content) }}
      />
      
      {news.tags && news.tags.length > 0 && (
        <div className="tags">
          <span className="tags-title">{t('tags')}:</span>
          {news.tags.map(tag => (
            <Link key={tag} to={`/tag/${tag}`} className="tag">
              {tag}
            </Link>
          ))}
        </div>
      )}
      
      <div className="news-footer">
        <div className="source">
          {news.source && (
            <p>
              {t('source')}: 
              {news.sourceUrl ? (
                <a href={news.sourceUrl} target="_blank" rel="noopener noreferrer">
                  {news.source}
                </a>
              ) : (
                <span>{news.source}</span>
              )}
            </p>
          )}
        </div>
      </div>
    </article>
  );
}
```

### 3.5 分页组件

分页组件用于在列表页面中实现分页导航。

```jsx
// 分页组件
function Pagination({ current, total, pageSize = 10, onChange }) {
  const { t } = useTranslation();
  const totalPages = Math.ceil(total / pageSize);
  
  // 生成页码数组
  const getPageNumbers = () => {
    const pages = [];
    const maxVisiblePages = 5;
    
    if (totalPages <= maxVisiblePages) {
      // 如果总页数小于等于最大可见页数，显示所有页码
      for (let i = 1; i <= totalPages; i++) {
        pages.push(i);
      }
    } else {
      // 否则，显示当前页附近的页码
      let startPage = Math.max(1, current - Math.floor(maxVisiblePages / 2));
      let endPage = startPage + maxVisiblePages - 1;
      
      if (endPage > totalPages) {
        endPage = totalPages;
        startPage = Math.max(1, endPage - maxVisiblePages + 1);
      }
      
      // 添加第一页
      if (startPage > 1) {
        pages.push(1);
        if (startPage > 2) pages.push('...');
      }
      
      // 添加中间页码
      for (let i = startPage; i <= endPage; i++) {
        pages.push(i);
      }
      
      // 添加最后一页
      if (endPage < totalPages) {
        if (endPage < totalPages - 1) pages.push('...');
        pages.push(totalPages);
      }
    }
    
    return pages;
  };
  
  const handlePageChange = (page) => {
    if (page !== '...' && page !== current) {
      onChange(page);
      // 滚动到页面顶部
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
  };
  
  if (totalPages <= 1) return null;
  
  return (
    <div className="pagination">
      <button 
        className="pagination-arrow"
        disabled={current === 1}
        onClick={() => handlePageChange(current - 1)}
        aria-label={t('previous_page')}
      >
        <ArrowLeftIcon />
      </button>
      
      <div className="pagination-numbers">
        {getPageNumbers().map((page, index) => (
          <button
            key={index}
            className={`pagination-number ${page === current ? 'active' : ''} ${page === '...' ? 'ellipsis' : ''}`}
            onClick={() => handlePageChange(page)}
            disabled={page === '...'}
          >
            {page}
          </button>
        ))}
      </div>
      
      <button 
        className="pagination-arrow"
        disabled={current === totalPages}
        onClick={() => handlePageChange(current + 1)}
        aria-label={t('next_page')}
      >
        <ArrowRightIcon />
      </button>
    </div>
  );
}
```

### 3.6 搜索组件

搜索组件用于实现全站搜索功能。

```jsx
// 搜索输入组件
function SearchInput({ onSearch, placeholder }) {
  const [value, setValue] = useState('');
  const inputRef = useRef(null);
  
  const handleSubmit = (e) => {
    e.preventDefault();
    onSearch(value);
  };
  
  return (
    <form className="search-form" onSubmit={handleSubmit}>
      <input
        ref={inputRef}
        type="text"
        value={value}
        onChange={(e) => setValue(e.target.value)}
        placeholder={placeholder}
        className="search-input"
      />
      <button type="submit" className="search-button">
        <SearchIcon />
      </button>
    </form>
  );
}

// 高级搜索过滤器组件
function SearchFilter({ onFilterChange, initialValues }) {
  const { t } = useTranslation();
  const [filters, setFilters] = useState(initialValues || {});
  const { data: categories } = useCategories();
  
  const handleChange = (key, value) => {
    const newFilters = { ...filters, [key]: value };
    setFilters(newFilters);
  };
  
  const handleApply = () => {
    onFilterChange(filters);
  };
  
  const handleReset = () => {
    const resetFilters = {
      ...initialValues,
      category: '',
      dateFrom: '',
      dateTo: '',
      sortBy: 'relevance'
    };
    setFilters(resetFilters);
    onFilterChange(resetFilters);
  };
  
  return (
    <div className="search-filter">
      <div className="filter-row">
        <div className="filter-group">
          <label>{t('category')}</label>
          <Select
            value={filters.category || ''}
            onChange={(value) => handleChange('category', value)}
            options={[
              { value: '', label: t('all_categories') },
              ...categories?.map(cat => ({
                value: cat.id,
                label: t(`categories.${cat.name}`)
              })) || []
            ]}
          />
        </div>
        
        <div className="filter-group">
          <label>{t('date_range')}</label>
          <div className="date-range">
            <DatePicker
              value={filters.dateFrom}
              onChange={(date) => handleChange('dateFrom', date)}
              placeholder={t('from_date')}
            />
            <DatePicker
              value={filters.dateTo}
              onChange={(date) => handleChange('dateTo', date)}
              placeholder={t('to_date')}
            />
          </div>
        </div>
        
        <div className="filter-group">
          <label>{t('sort_by')}</label>
          <Select
            value={filters.sortBy || 'relevance'}
            onChange={(value) => handleChange('sortBy', value)}
            options={[
              { value: 'relevance', label: t('relevance') },
              { value: 'date_desc', label: t('newest_first') },
              { value: 'date_asc', label: t('oldest_first') },
              { value: 'title_asc', label: t('title_a_z') },
              { value: 'title_desc', label: t('title_z_a') }
            ]}
          />
        </div>
      </div>
      
      <div className="filter-actions">
        <button className="reset-button" onClick={handleReset}>
          {t('reset')}
        </button>
        <button className="apply-button" onClick={handleApply}>
          {t('apply_filters')}
        </button>
      </div>
    </div>
  );
}
```

### 3.7 侧边栏组件

侧边栏组件用于展示辅助内容，如热门新闻、分类列表等。

```jsx
// 侧边栏组件
function Sidebar() {
  return (
    <aside className="sidebar">
      <HotNews />
      <CategoryList />
      <TagCloud />
      <Newsletter />
    </aside>
  );
}

// 热门新闻组件
function HotNews() {
  const { t } = useTranslation();
  const { data: hotNews, isLoading } = useHotNews();
  
  if (isLoading) return <Skeleton count={5} />
  
  return (
    <div className="sidebar-widget hot-news">
      <h3 className="widget-title">{t('hot_news')}</h3>
      
      <ul className="hot-news-list">
        {hotNews?.map((news, index) => (
          <li key={news.id} className="hot-news-item">
            <span className="rank">{index + 1}</span>
            <Link to={`/news/${news.id}`} className="title">
              {news.title}
            </Link>
            <span className="views">
              <EyeIcon />
              {formatNumber(news.views)}
            </span>
          </li>
        ))}
      </ul>
    </div>
  );
}

// 分类列表组件
function CategoryList() {
  const { t } = useTranslation();
  const { data: categories, isLoading } = useCategories();
  
  if (isLoading) return <Skeleton count={3} />
  
  return (
    <div className="sidebar-widget category-list">
      <h3 className="widget-title">{t('categories')}</h3>
      
      <ul className="categories">
        {categories?.map(category => (
          <li key={category.id} className="category-item">
            <Link to={`/category/${category.slug}`}>
              {t(`categories.${category.name}`)}
              <span className="count">{category.newsCount}</span>
            </Link>
          </li>
        ))}
      </ul>
    </div>
  );
}

// 标签云组件
function TagCloud() {
  const { t } = useTranslation();
  const { data: tags, isLoading } = useTags();
  
  if (isLoading) return <Skeleton count={1} />
  
  return (
    <div className="sidebar-widget tag-cloud">
      <h3 className="widget-title">{t('tags')}</h3>
      
      <div className="tags">
        {tags?.map(tag => (
          <Link 
            key={tag.id} 
            to={`/tag/${tag.name}`}
            className="tag"
            style={{ fontSize: `${Math.max(0.8, Math.min(1.5, tag.weight))}em` }}
          >
            {tag.name}
          </Link>
        ))}
      </div>
    </div>
  );
}

// 订阅组件
function Newsletter() {
  const { t } = useTranslation();
  const [email, setEmail] = useState('');
  const [status, setStatus] = useState(null);
  
  const handleSubmit = async (e) => {
    e.preventDefault();
    
    if (!email) return;
    
    try {
      setStatus('loading');
      const response = await axios.post('/api/subscribe', { email });
      
      if (response.data.success) {
        setStatus('success');
        setEmail('');
      } else {
        setStatus('error');
      }
    } catch (error) {
      console.error('订阅失败:', error);
      setStatus('error');
    }
  };
  
  return (
    <div className="sidebar-widget newsletter">
      <h3 className="widget-title">{t('subscribe_newsletter')}</h3>
      <p>{t('newsletter_description')}</p>
      
      <form onSubmit={handleSubmit} className="newsletter-form">
        <input
          type="email"
          value={email}
          onChange={(e) => setEmail(e.target.value)}
          placeholder={t('email_placeholder')}
          required
        />
        <button 
          type="submit" 
          disabled={status === 'loading'}
        >
          {status === 'loading' ? <Spinner size="small" /> : t('subscribe')}
        </button>
      </form>
      
      {status === 'success' && (
        <div className="success-message">{t('subscribe_success')}</div>
      )}
      
      {status === 'error' && (
        <div className="error-message">{t('subscribe_error')}</div>
      )}
    </div>
  );
}
```

### 3.8 底部组件

底部组件包含网站导航、联系信息、版权声明等。

```jsx
// 底部组件
function Footer() {
  const { t } = useTranslation();
  const currentYear = new Date().getFullYear();
  
  return (
    <footer className="site-footer">
      <div className="footer-container">
        <div className="footer-top">
          <div className="footer-column about">
            <h3>{t('about_us')}</h3>
            <p>{t('footer_about_text')}</p>
            
            <div className="social-links">
              <a href="https://facebook.com" target="_blank" rel="noopener noreferrer">
                <FacebookIcon />
              </a>
              <a href="https://twitter.com" target="_blank" rel="noopener noreferrer">
                <TwitterIcon />
              </a>
              <a href="https://instagram.com" target="_blank" rel="noopener noreferrer">
                <InstagramIcon />
              </a>
              <a href="https://linkedin.com" target="_blank" rel="noopener noreferrer">
                <LinkedInIcon />
              </a>
            </div>
          </div>
          
          <div className="footer-column links">
            <h3>{t('quick_links')}</h3>
            <ul>
              <li><Link to="/">{t('home')}</Link></li>
              <li><Link to="/about">{t('about')}</Link></li>
              <li><Link to="/contact">{t('contact')}</Link></li>
              <li><Link to="/privacy-policy">{t('privacy_policy')}</Link></li>
              <li><Link to="/terms-of-service">{t('terms_of_service')}</Link></li>
            </ul>
          </div>
          
          <div className="footer-column categories">
            <h3>{t('categories')}</h3>
            <ul>
              <li><Link to="/category/world">{t('categories.world')}</Link></li>
              <li><Link to="/category/politics">{t('categories.politics')}</Link></li>
              <li><Link to="/category/business">{t('categories.business')}</Link></li>
              <li><Link to="/category/technology">{t('categories.technology')}</Link></li>
              <li><Link to="/category/entertainment">{t('categories.entertainment')}</Link></li>
            </ul>
          </div>
          
          <div className="footer-column contact">
            <h3>{t('contact_us')}</h3>
            <address>
              <p>
                <LocationIcon />
                123 新闻大道, 城市名, 国家
              </p>
              <p>
                <PhoneIcon />
                +1 234 567 890
              </p>
              <p>
                <EmailIcon />
                contact@globalnews.com
              </p>
            </address>
          </div>
        </div>
        
        <div className="footer-bottom">
          <div className="copyright">
            &copy; {currentYear} 全球新闻管理系统. {t('all_rights_reserved')}.
          </div>
          
          <div className="footer-nav">
            <ul>
              <li><Link to="/privacy-policy">{t('privacy_policy')}</Link></li>
              <li><Link to="/terms-of-service">{t('terms_of_service')}</Link></li>
              <li><Link to="/sitemap">{t('sitemap')}</Link></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
  );
}
```

## 4. 数据流程

### 4.1 数据获取流程

前台展示模块通过 API 接口从后端获取数据，主要包括以下几种数据获取方式：

```javascript
// API 请求封装
import axios from 'axios';

const api = axios.create({
  baseURL: process.env.REACT_APP_API_URL,
  timeout: 10000,
  headers: {
    'Content-Type': 'application/json'
  }
});

// 响应拦截器
api.interceptors.response.use(
  response => response.data,
  error => {
    console.error('API 请求错误:', error);
    return Promise.reject(error);
  }
);

// 新闻相关 API
export const newsApi = {
  // 获取首页新闻
  getHomeNews: () => api.get('/news/home'),
  
  // 获取新闻列表
  getNewsList: (params) => api.get('/news', { params }),
  
  // 获取新闻详情
  getNewsDetail: (id) => api.get(`/news/${id}`),
  
  // 获取特色新闻
  getFeaturedNews: () => api.get('/news/featured'),
  
  // 获取热门新闻
  getHotNews: () => api.get('/news/hot'),
  
  // 获取相关新闻
  getRelatedNews: (id, categoryId) => api.get(`/news/${id}/related`, {
    params: { categoryId }
  }),
  
  // 搜索新闻
  searchNews: (params) => api.get('/news/search', { params })
};

// 分类相关 API
export const categoryApi = {
  // 获取所有分类
  getCategories: () => api.get('/categories'),
  
  // 获取分类详情
  getCategoryDetail: (slug) => api.get(`/categories/${slug}`),
  
  // 获取分类下的新闻
  getCategoryNews: (slug, params) => api.get(`/categories/${slug}/news`, { params })
};

// 标签相关 API
export const tagApi = {
  // 获取所有标签
  getTags: () => api.get('/tags'),
  
  // 获取标签下的新闻
  getTagNews: (tag, params) => api.get(`/tags/${tag}/news`, { params })
};

// 其他 API
export const otherApi = {
  // 订阅新闻通讯
  subscribe: (email) => api.post('/subscribe', { email }),
  
  // 获取网站统计数据
  getStatistics: () => api.get('/statistics')
};
```

### 4.2 数据渲染流程

使用 React Hooks 封装数据获取和状态管理逻辑，实现数据与 UI 的解耦：

```javascript
// 自定义 Hooks
import { useState, useEffect } from 'react';
import { newsApi, categoryApi, tagApi } from '../api';

// 获取首页新闻
export function useHomeNews() {
  const [data, setData] = useState(null);
  const [isLoading, setIsLoading] = useState(true);
  const [error, setError] = useState(null);
  
  useEffect(() => {
    const fetchData = async () => {
      try {
        setIsLoading(true);
        const result = await newsApi.getHomeNews();
        setData(result);
        setError(null);
      } catch (err) {
        setError(err);
      } finally {
        setIsLoading(false);
      }
    };
    
    fetchData();
  }, []);
  
  return { data, isLoading, error };
}

// 获取新闻列表
export function useNewsList(params) {
  const [data, setData] = useState(null);
  const [isLoading, setIsLoading] = useState(true);
  const [error, setError] = useState(null);
  
  useEffect(() => {
    const fetchData = async () => {
      try {
        setIsLoading(true);
        const result = await newsApi.getNewsList(params);
        setData(result);
        setError(null);
      } catch (err) {
        setError(err);
      } finally {
        setIsLoading(false);
      }
    };
    
    fetchData();
  }, [params]);
  
  return { data, isLoading, error };
}

// 获取新闻详情
export function useNewsDetail(id) {
  const [data, setData] = useState(null);
  const [isLoading, setIsLoading] = useState(true);
  const [error, setError] = useState(null);
  
  useEffect(() => {
    const fetchData = async () => {
      try {
        setIsLoading(true);
        const result = await newsApi.getNewsDetail(id);
        setData(result);
        setError(null);
      } catch (err) {
        setError(err);
      } finally {
        setIsLoading(false);
      }
    };
    
    if (id) {
      fetchData();
    }
  }, [id]);
  
  return { data, isLoading, error };
}

// 获取分类列表
export function useCategories() {
  const [data, setData] = useState(null);
  const [isLoading, setIsLoading] = useState(true);
  const [error, setError] = useState(null);
  
  useEffect(() => {
    const fetchData = async () => {
      try {
        setIsLoading(true);
        const result = await categoryApi.getCategories();
        setData(result);
        setError(null);
      } catch (err) {
        setError(err);
      } finally {
        setIsLoading(false);
      }
    };
    
    fetchData();
  }, []);
  
  return { data, isLoading, error };
}

// 搜索新闻
export function useSearchResults(params) {
  const [data, setData] = useState(null);
  const [isLoading, setIsLoading] = useState(true);
  const [error, setError] = useState(null);
  
  useEffect(() => {
    const fetchData = async () => {
      try {
        setIsLoading(true);
        const result = await newsApi.searchNews(params);
        setData(result);
        setError(null);
      } catch (err) {
        setError(err);
      } finally {
        setIsLoading(false);
      }
    };
    
    if (params.keyword) {
      fetchData();
    } else {
      setData({ items: [], total: 0 });
      setIsLoading(false);
    }
  }, [params]);
  
  return { data, isLoading, error };
}
```

### 4.3 数据缓存策略

为了提高性能和减少不必要的网络请求，前台展示模块实现了数据缓存策略：

```javascript
// 缓存管理器
class CacheManager {
  constructor(defaultExpiration = 5 * 60 * 1000) { // 默认5分钟
    this.cache = {};
    this.defaultExpiration = defaultExpiration;
  }
  
  // 设置缓存
  set(key, data, expiration = this.defaultExpiration) {
    const now = Date.now();
    this.cache[key] = {
      data,
      expiration: now + expiration,
      timestamp: now
    };
    
    // 存储到 localStorage
    try {
      localStorage.setItem(
        `cache_${key}`,
        JSON.stringify({
          data,
          expiration: now + expiration,
          timestamp: now
        })
      );
    } catch (error) {
      console.warn('无法存储缓存到 localStorage:', error);
    }
  }
  
  // 获取缓存
  get(key) {
    // 先从内存缓存获取
    let cached = this.cache[key];
    
    // 如果内存中没有，尝试从 localStorage 获取
    if (!cached) {
      try {
        const storedCache = localStorage.getItem(`cache_${key}`);
        if (storedCache) {
          cached = JSON.parse(storedCache);
          this.cache[key] = cached;
        }
      } catch (error) {
        console.warn('无法从 localStorage 获取缓存:', error);
      }
    }
    
    // 检查是否存在缓存
    if (!cached) {
      return null;
    }
    
    // 检查是否过期
    if (Date.now() > cached.expiration) {
      this.remove(key);
      return null;
    }
    
    return cached.data;
  }
  
  // 移除缓存
  remove(key) {
    delete this.cache[key];
    
    try {
      localStorage.removeItem(`cache_${key}`);
    } catch (error) {
      console.warn('无法从 localStorage 移除缓存:', error);
    }
  }
  
  // 清除所有缓存
  clear() {
    this.cache = {};
    
    try {
      Object.keys(localStorage).forEach(key => {
        if (key.startsWith('cache_')) {
          localStorage.removeItem(key);
        }
      });
    } catch (error) {
      console.warn('无法清除 localStorage 缓存:', error);
    }
  }
  
  // 清除过期缓存
  clearExpired() {
    const now = Date.now();
    
    // 清除内存缓存
    Object.keys(this.cache).forEach(key => {
      if (now > this.cache[key].expiration) {
        delete this.cache[key];
      }
    });
    
    // 清除 localStorage 缓存
    try {
      Object.keys(localStorage).forEach(key => {
        if (key.startsWith('cache_')) {
          try {
            const cached = JSON.parse(localStorage.getItem(key));
            if (now > cached.expiration) {
              localStorage.removeItem(key);
            }
          } catch (e) {
            localStorage.removeItem(key);
          }
        }
      });
    } catch (error) {
      console.warn('无法清除过期的 localStorage 缓存:', error);
    }
  }
}

// 创建缓存实例
const dataCache = new CacheManager();

// 缓存配置
const CACHE_CONFIG = {
  HOME_NEWS: 5 * 60 * 1000,       // 首页新闻缓存5分钟
  NEWS_LIST: 5 * 60 * 1000,       // 新闻列表缓存5分钟
  NEWS_DETAIL: 10 * 60 * 1000,    // 新闻详情缓存10分钟
  CATEGORIES: 30 * 60 * 1000,     // 分类列表缓存30分钟
  HOT_NEWS: 5 * 60 * 1000,        // 热门新闻缓存5分钟
  TAGS: 30 * 60 * 1000            // 标签列表缓存30分钟
};

// 使用缓存的 API 请求
const cachedApi = {
  // 获取首页新闻（带缓存）
  getHomeNews: async () => {
    const cacheKey = 'home_news';
    const cachedData = dataCache.get(cacheKey);
    
    if (cachedData) {
      return cachedData;
    }
    
    const data = await newsApi.getHomeNews();
    dataCache.set(cacheKey, data, CACHE_CONFIG.HOME_NEWS);
    return data;
  },
  
  // 获取新闻列表（带缓存）
  getNewsList: async (params) => {
    const cacheKey = `news_list_${JSON.stringify(params)}`;
    const cachedData = dataCache.get(cacheKey);
    
    if (cachedData) {
      return cachedData;
    }
    
    const data = await newsApi.getNewsList(params);
    dataCache.set(cacheKey, data, CACHE_CONFIG.NEWS_LIST);
    return data;
  },
  
  // 获取新闻详情（带缓存）
  getNewsDetail: async (id) => {
    const cacheKey = `news_detail_${id}`;
    const cachedData = dataCache.get(cacheKey);
    
    if (cachedData) {
      return cachedData;
    }
    
    const data = await newsApi.getNewsDetail(id);
    dataCache.set(cacheKey, data, CACHE_CONFIG.NEWS_DETAIL);
    return data;
  },
  
  // 获取分类列表（带缓存）
  getCategories: async () => {
    const cacheKey = 'categories';
    const cachedData = dataCache.get(cacheKey);
    
    if (cachedData) {
      return cachedData;
    }
    
    const data = await categoryApi.getCategories();
    dataCache.set(cacheKey, data, CACHE_CONFIG.CATEGORIES);
    return data;
  }
};

// 定期清理过期缓存
setInterval(() => {
  dataCache.clearExpired();
}, 15 * 60 * 1000); // 每15分钟清理一次
```

## 5. 响应式设计

### 5.1 布局适配

前台展示模块采用响应式设计，确保在不同设备上都能提供良好的用户体验：

```css
/* 响应式布局基础样式 */
.container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 15px;
}

/* 网格系统 */
.row {
  display: flex;
  flex-wrap: wrap;
  margin: 0 -15px;
}

.col {
  padding: 0 15px;
  flex: 1;
}

/* 响应式列 */
.col-12 { width: 100%; }
.col-9 { width: 75%; }
.col-8 { width: 66.66%; }
.col-6 { width: 50%; }
.col-4 { width: 33.33%; }
.col-3 { width: 25%; }

/* 响应式布局 - 平板 */
@media (max-width: 992px) {
  .col-md-12 { width: 100%; }
  .col-md-6 { width: 50%; }
  .col-md-4 { width: 33.33%; }
  
  .main-content {
    flex-direction: column;
  }
  
  .sidebar {
    width: 100%;
    margin-top: 30px;
  }
}

/* 响应式布局 - 移动端 */
@media (max-width: 768px) {
  .col-sm-12 { width: 100%; }
  .col-sm-6 { width: 50%; }
  
  .header-actions {
    flex-direction: column;
  }
  
  .news-grid {
    grid-template-columns: 1fr;
  }
  
  .featured-grid {
    grid-template-columns: 1fr;
  }
}

/* 响应式布局 - 小屏幕移动端 */
@media (max-width: 576px) {
  .col-xs-12 { width: 100%; }
  
  .news-card {
    flex-direction: column;
  }
  
  .news-image {
    width: 100%;
    height: 200px;
  }
  
  .pagination-numbers {
    display: none;
  }
  
  .pagination-arrows {
    width: 100%;
    justify-content: space-between;
  }
}
```

### 5.2 媒体查询

使用媒体查询实现不同设备上的布局调整：

```jsx
// 响应式布局组件
import { useMediaQuery } from 'react-responsive';

function ResponsiveLayout({ children }) {
  const isDesktop = useMediaQuery({ minWidth: 992 });
  const isTablet = useMediaQuery({ minWidth: 768, maxWidth: 991 });
  const isMobile = useMediaQuery({ maxWidth: 767 });
  const isPortrait = useMediaQuery({ orientation: 'portrait' });
  
  return (
    <div className={`
      layout
      ${isDesktop ? 'desktop' : ''}
      ${isTablet ? 'tablet' : ''}
      ${isMobile ? 'mobile' : ''}
      ${isPortrait ? 'portrait' : 'landscape'}
    `}>
      {children}
    </div>
  );
}

// 响应式导航组件
function ResponsiveNavigation() {
  const isMobile = useMediaQuery({ maxWidth: 767 });
  const [menuOpen, setMenuOpen] = useState(false);
  
  return (
    <nav className="site-nav">
      {isMobile ? (
        <>
          <button 
            className="menu-toggle"
            onClick={() => setMenuOpen(!menuOpen)}
          >
            {menuOpen ? <CloseIcon /> : <MenuIcon />}
          </button>
          
          <div className={`mobile-menu ${menuOpen ? 'open' : ''}`}>
            <MobileMenu />
          </div>
        </>
      ) : (
        <DesktopMenu />
      )}
    </nav>
  );
}
```

### 5.3 图片优化

为了提高页面加载速度和用户体验，前台展示模块对图片进行了优化处理：

```jsx
// 响应式图片组件
function ResponsiveImage({ src, alt, sizes, lazy = true }) {
  // 生成不同尺寸的图片URL
  const generateSrcSet = (imageSrc) => {
    const extension = imageSrc.split('.').pop();
    const basePath = imageSrc.substring(0, imageSrc.lastIndexOf('.'));
    
    return [
      `${basePath}-small.${extension} 400w`,
      `${basePath}-medium.${extension} 800w`,
      `${basePath}-large.${extension} 1200w`,
      `${imageSrc} 1600w`
    ].join(', ');
  };
  
  return (
    <img
      src={src}
      alt={alt}
      srcSet={generateSrcSet(src)}
      sizes={sizes || '(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw'}
      loading={lazy ? 'lazy' : 'eager'}
    />
  );
}

// 图片处理工具函数
const imageUtils = {
  // 获取适合当前设备的图片URL
  getResponsiveImageUrl: (imageUrl, width) => {
    if (!imageUrl) return '';
    
    const extension = imageUrl.split('.').pop();
    const basePath = imageUrl.substring(0, imageUrl.lastIndexOf('.'));
    
    if (width <= 400) {
      return `${basePath}-small.${extension}`;
    } else if (width <= 800) {
      return `${basePath}-medium.${extension}`;
    } else if (width <= 1200) {
      return `${basePath}-large.${extension}`;
    }
    
    return imageUrl;
  },
  
  // 图片加载失败时的处理
  handleImageError: (event, fallbackSrc = '/images/placeholder.jpg') => {
    event.target.src = fallbackSrc;
  }
};
```

## 6. 性能优化

### 6.1 懒加载实现

前台展示模块使用懒加载技术，减少初始加载时间，提高页面性能：

```jsx
// 图片懒加载组件
import { useEffect, useRef, useState } from 'react';

function LazyImage({ src, alt, placeholder = '/images/placeholder.jpg', ...props }) {
  const [imageSrc, setImageSrc] = useState(placeholder);
  const [imageLoaded, setImageLoaded] = useState(false);
  const imgRef = useRef(null);
  
  useEffect(() => {
    // 创建 Intersection Observer 实例
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          // 当图片进入视口时加载
          if (entry.isIntersecting) {
            setImageSrc(src);
            observer.unobserve(entry.target);
          }
        });
      },
      { rootMargin: '200px 0px' } // 提前200px开始加载
    );
    
    // 开始观察
    if (imgRef.current) {
      observer.observe(imgRef.current);
    }
    
    // 清理函数
    return () => {
      if (imgRef.current) {
        observer.unobserve(imgRef.current);
      }
    };
  }, [src]);
  
  return (
    <div className={`lazy-image-container ${imageLoaded ? 'loaded' : ''}`}>
      {!imageLoaded && <div className="image-placeholder" />}
      <img
        ref={imgRef}
        src={imageSrc}
        alt={alt}
        className="lazy-image"
        onLoad={() => setImageLoaded(true)}
        onError={(e) => {
          setImageSrc(placeholder);
          setImageLoaded(true);
        }}
        {...props}
      />
    </div>
  );
}

// 组件懒加载
import React, { Suspense, lazy } from 'react';

// 懒加载页面组件
const HomePage = lazy(() => import('./pages/HomePage'));
const NewsListPage = lazy(() => import('./pages/NewsListPage'));
const NewsDetailPage = lazy(() => import('./pages/NewsDetailPage'));
const CategoriesPage = lazy(() => import('./pages/CategoriesPage'));
const SearchResultsPage = lazy(() => import('./pages/SearchResultsPage'));

// 应用路由
function AppRoutes() {
  return (
    <Suspense fallback={<PageLoader />}>
      <Routes>
        <Route path="/" element={<HomePage />} />
        <Route path="/news" element={<NewsListPage />} />
        <Route path="/news/:id" element={<NewsDetailPage />} />
        <Route path="/category/:slug" element={<NewsListPage />} />
        <Route path="/categories" element={<CategoriesPage />} />
        <Route path="/search" element={<SearchResultsPage />} />
        <Route path="*" element={<NotFoundPage />} />
      </Routes>
    </Suspense>
  );
}
```
}